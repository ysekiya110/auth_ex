import{j as e,r as a,c as E}from"./client-AmxKaZnh.js";import{u as R,C as $,D as A,S as I,a as L}from"./Stack-R8zJrdbf.js";function x(l){return e.jsx("div",{onClick:()=>l.onClick(l.dragId),children:e.jsx("img",{id:"dragImg",src:l.Img,alt:"img_1.jpg"})})}function m(l){const{attributes:p,listeners:u,setNodeRef:g,transform:_}=R({id:l.dragId}),i={transform:$.Translate.toString(_)};return e.jsx("div",{ref:g,style:i,...u,...p,children:e.jsx("img",{style:{background:"#e9e9e9",width:l.Width,height:l.Height},id:"dragImg",src:`/~ysekiya/auth_ex1/img/img_${l.dragId}.jpg`,alt:"img_1.jpg"})})}function H(){new URLSearchParams(window.location.search);let l=[""];a.useState(""),a.useState([""]);const[p,u]=a.useState(!1),[g,_]=a.useState(0),[i,b]=a.useState(["0","0"]),[v,f]=a.useState(!1);a.useState(["0","0"]),a.useState(["0","0"]),a.useState(["0","0"]);const[s,S]=a.useState([]);function C(d){const{active:c,over:n}=d;if(c&&n){if(s.length<3){const h=s;h.push([String(c.id),String(n.id)]),S(h)}u(!1)}b(["0","0"])}function w(d){const{over:c}=d;c&&b(String(c.id).split("_"))}function D(d){const{active:c}=d,n=String(c.id).split("_")[1];f(n==="2"||n==="4")}function j(d){u(!0),_(d)}function r(d){const c=d.over.includes(d.backId);let n="";if(d.select.length>0){const h=d.select.filter(o=>o[1].split("_").includes(d.backId)),k=h.length>0;if(l=d.select.map(o=>o[1].split("_")).flat(),k){const o=h[0][1].split("_");return o[0]===d.backId?(Number(o[1])-Number(o[0]),n="0% 0%"):Number(o[1])-Number(o[0])===1?n=" 100% 0%":n="0% 100%",e.jsx("img",{src:`/~ysekiya/auth_ex1/img/img_${h[0][0]}.jpg`,style:{height:70,width:70,objectFit:"cover",objectPosition:n}})}}return c?e.jsx("div",{style:{height:70,width:70,background:"#4FD8EA99"}}):e.jsxs("div",{style:{height:70,width:70,background:"#e9e9e9"},children:[e.jsx("br",{}),d.backId]})}function t(d){const{isOver:c,over:n,setNodeRef:h}=L({id:d.dropId}),k={height:70,width:70,background:"#00000000"},o=d.dropId.split("_")[0],N=d.dropId.split("_")[1];return l.includes(o)||l.includes(N)?e.jsx("div",{}):e.jsx("div",{ref:h,style:k})}function z(){if(s.length===3){const d=new URL(location.href).searchParams.get("username");d!==null&&fetch(`http://www.az.lab.uec.ac.jp/~ysekiya/register/register.php?username=${d}&secret=${s.flat()}`).then(c=>c.json()).then(c=>console.log(c)).catch(c=>console.log(c))}else console.log("No")}return e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:new URL(location.href).searchParams.get("username")}),e.jsxs(A,{onDragEnd:C,onDragOver:w,onDragStart:D,children:[e.jsxs(I,{horizontal:!0,horizontalAlign:"center",style:{position:"relative"},children:[e.jsxs(I,{verticalAlign:"center",children:[e.jsxs(I,{horizontal:!0,horizontalAlign:"center",children:[e.jsx(r,{backId:"1",over:i,select:s}),e.jsx(r,{backId:"2",over:i,select:s}),e.jsx(r,{backId:"3",over:i,select:s}),e.jsx(r,{backId:"4",over:i,select:s})]}),e.jsxs(I,{horizontal:!0,horizontalAlign:"center",children:[e.jsx(r,{backId:"5",over:i,select:s}),e.jsx(r,{backId:"6",over:i,select:s}),e.jsx(r,{backId:"7",over:i,select:s}),e.jsx(r,{backId:"8",over:i,select:s})]}),e.jsxs(I,{horizontal:!0,horizontalAlign:"center",children:[e.jsx(r,{backId:"9",over:i,select:s}),e.jsx(r,{backId:"10",over:i,select:s}),e.jsx(r,{backId:"11",over:i,select:s}),e.jsx(r,{backId:"12",over:i,select:s})]}),e.jsxs(I,{horizontal:!0,horizontalAlign:"center",children:[e.jsx(r,{backId:"13",over:i,select:s}),e.jsx(r,{backId:"14",over:i,select:s}),e.jsx(r,{backId:"15",over:i,select:s}),e.jsx(r,{backId:"16",over:i,select:s})]})]}),v?e.jsx("div",{style:{position:"absolute",top:35},children:e.jsx("table",{id:"position",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{id:"pos1",children:[" ",e.jsx(t,{dropId:"1_5",select:s})," "]}),e.jsxs("td",{id:"pos2",children:[" ",e.jsx(t,{dropId:"2_6",select:s})," "]}),e.jsxs("td",{id:"pos3",children:[" ",e.jsx(t,{dropId:"3_7",select:s})," "]}),e.jsxs("td",{id:"pos3",children:[" ",e.jsx(t,{dropId:"4_8",select:s})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{id:"pos5",children:[" ",e.jsx(t,{dropId:"5_9",select:s})," "]}),e.jsxs("td",{id:"pos6",children:[" ",e.jsx(t,{dropId:"6_10",select:s})," "]}),e.jsxs("td",{id:"pos7",children:[" ",e.jsx(t,{dropId:"7_11",select:s})," "]}),e.jsxs("td",{id:"pos7",children:[" ",e.jsx(t,{dropId:"8_12",select:s})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{id:"pos9",children:[" ",e.jsx(t,{dropId:"9_13",select:s})," "]}),e.jsxs("td",{id:"pos10",children:[" ",e.jsx(t,{dropId:"10_14",select:s})," "]}),e.jsxs("td",{id:"pos11",children:[" ",e.jsx(t,{dropId:"11_15",select:s})," "]}),e.jsxs("td",{id:"pos11",children:[" ",e.jsx(t,{dropId:"12_16",select:s})," "]})]})]})})}):e.jsx("div",{style:{position:"absolute"},children:e.jsx("table",{id:"position",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{id:"pos1",children:[" ",e.jsx(t,{dropId:"1_2",select:s})," "]}),e.jsxs("td",{id:"pos2",children:[" ",e.jsx(t,{dropId:"2_3",select:s})," "]}),e.jsxs("td",{id:"pos3",children:[" ",e.jsx(t,{dropId:"3_4",select:s})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{id:"pos5",children:[" ",e.jsx(t,{dropId:"5_6",select:s})," "]}),e.jsxs("td",{id:"pos6",children:[" ",e.jsx(t,{dropId:"6_7",select:s})," "]}),e.jsxs("td",{id:"pos7",children:[" ",e.jsx(t,{dropId:"7_8",select:s})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{id:"pos9",children:[" ",e.jsx(t,{dropId:"9_10",select:s})," "]}),e.jsxs("td",{id:"pos10",children:[" ",e.jsx(t,{dropId:"10_11",select:s})," "]}),e.jsxs("td",{id:"pos11",children:[" ",e.jsx(t,{dropId:"11_12",select:s})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{id:"pos13",children:[" ",e.jsx(t,{dropId:"13_14",select:s})," "]}),e.jsxs("td",{id:"pos14",children:[" ",e.jsx(t,{dropId:"14_15",select:s})," "]}),e.jsxs("td",{id:"pos15",children:[" ",e.jsx(t,{dropId:"15_16",select:s})," "]})]})]})})})]}),p?e.jsx("div",{className:"scrollable-container",children:e.jsxs("table",{id:"selectedImage",children:[e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("button",{onClick:()=>location.reload(),children:"Reset"})}),e.jsxs("td",{children:[" ",e.jsx(m,{dragId:`${g}_1`,Width:140,Height:70})," "]}),e.jsx("td",{children:e.jsx("button",{onClick:()=>u(!1),children:"Back"})})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[" ",e.jsx(m,{dragId:`${g}_4`,Width:70,Height:140})," "]}),e.jsxs("td",{children:[" ",e.jsx("img",{src:`/~ysekiya/auth_ex1/img/img_${g}.jpg`,style:{background:"#e9e9e9",margin:20,width:140,height:140}})," "]}),e.jsxs("td",{children:[" ",e.jsx(m,{dragId:`${g}_2`,Width:70,Height:140})," "]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:" "}),e.jsxs("td",{children:[" ",e.jsx(m,{dragId:`${g}_3`,Width:140,Height:70})," "]}),e.jsx("td",{children:" "})]})]})}):e.jsxs("table",{id:"images",children:[e.jsxs("tr",{children:[e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_1.jpg",dragId:1})," "]}),e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_2.jpg",dragId:2})," "]}),e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_3.jpg",dragId:3})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_4.jpg",dragId:4})," "]}),e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_5.jpg",dragId:5})," "]}),e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_6.jpg",dragId:6})," "]})]}),e.jsxs("tr",{children:[e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_7.jpg",dragId:7})," "]}),e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_8.jpg",dragId:8})," "]}),e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_9.jpg",dragId:9})," "]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("button",{onClick:()=>location.reload(),children:"Reset"})}),e.jsxs("td",{children:[" ",e.jsx(x,{onClick:j,Img:"/~ysekiya/auth_ex1/img/img_10.jpg",dragId:10})," "]}),e.jsx("td",{children:e.jsx("button",{onClick:z,children:"Next"})})]})]})]})]})}const y=document.getElementById("root");if(!y)throw new Error("Failed to find the root element");const O=E(y);O.render(e.jsx(a.StrictMode,{children:e.jsx(H,{})}));
